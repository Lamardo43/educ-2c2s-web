Create table users (
    id int AUTO_INCREMENT PRIMARY KEY,
    role ENUM('tourist', 'guide') not null,
    firstname varchar(100) not null,
    lastname varchar(100) not null,
    middlename varchar(100),
    login varchar(100) not null UNIQUE,
    password_hash varchar(64) not null
) ENGINE INNODB;

create table routes(
    id int AUTO_INCREMENT PRIMARY KEY,
    route text not null,
    guide_id int not null,
    duration int not null,
    price_rep_person numeric not null,
    FOREIGN key (guide_id) REFERENCES users(id)
) engine innodb;

create table orders (
	id int AUTO_INCREMENT PRIMARY KEY,
    user_id int not null,
    route_id int not null,
    person_count int not null,
    total_price int not null,
    FOREIGN key (user_id) REFERENCES users(id),
    FOREIGN key (route_id) REFERENCES routes(id)
) engine innodb;